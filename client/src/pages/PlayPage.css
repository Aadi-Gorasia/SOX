/* PlayPage.css â€” "VERSUS" CHARACTER SELECT THEME */

/* --- Page Wrapper (FIXES NAVBAR OVERLAP & CENTERS CONTENT) --- */
.play-page.page-container {
  padding-top: calc(var(--navbar-height) + 40px);
  padding-bottom: var(--spacing-xxl);
  display: flex;
  justify-content: center;
  align-items: center; /* Center vertically */
  min-height: 100vh;
}

/* --- The Main "Versus Screen" Wrapper --- */
@keyframes screen-load {
  from { opacity: 0; filter: blur(5px); transform: translateY(20px); }
  to { opacity: 1; filter: blur(0); transform: translateY(0); }
}

.select-screen-wrapper {
  display: flex;
  width: 100%;
  max-width: 1200px;
  gap: var(--spacing-md);
  animation: screen-load 0.7s cubic-bezier(0.25, 1, 0.5, 1) forwards;
}


/* --- Player Panels (X and O) --- */
.player-panel {
  flex: 1;
  background: var(--bg-secondary);
  border-width: 4px;
  border-style: solid;
  padding: var(--spacing-lg);
  display: flex;
  flex-direction: column;
  transition: all 0.25s ease-out;
  box-shadow: 10px 10px 0px #11091a;
}
.player-x { border-color: var(--accent-primary); }
.player-o { border-color: var(--accent-secondary); }

.player-panel:hover {
  transform: scale(1.03);
  box-shadow: 20px 20px 0px #11091a;
  z-index: 5;
}

.player-mark {
  font-size: clamp(4rem, 15vw, 8rem);
  text-align: center;
  line-height: 1;
  margin-bottom: var(--spacing-lg);
  opacity: 0.8;
  transition: all 0.25s ease-out;
}
.player-panel:hover .player-mark {
  transform: scale(1.1);
  text-shadow: 0 0 20px currentColor, 4px 4px 0px rgba(0,0,0,0.5);
  opacity: 1;
}

.player-x .player-mark { color: var(--accent-primary); }
.player-o .player-mark { color: var(--accent-secondary); }

.modes-container {
  border-top-width: 4px;
  border-top-style: solid;
  padding-top: var(--spacing-lg);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xl);
}
.player-x .modes-container { border-color: var(--accent-primary); }
.player-o .modes-container { border-color: var(--accent-secondary); }

.mode-select h2 {
  font-size: 1rem;
  margin-bottom: var(--spacing-md);
  text-align: center;
  color: var(--text-primary);
}
.time-controls {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-md);
}
.time-control-btn {
  flex-direction: column;
  font-size: 0.7rem;
  padding: var(--spacing-sm);
  line-height: 1.4;
}
.time-control-btn span:first-child {
  font-size: 0.9rem;
  font-weight: bold;
  color: var(--text-primary);
  margin-bottom: 2px;
}
.player-x .time-control-btn:hover span:first-child { color: var(--accent-primary); }
.player-o .time-control-btn:hover span:first-child { color: var(--accent-secondary); }


/* --- VS Divider --- */
@keyframes vs-pulse {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.05); opacity: 1; }
}

.vs-divider {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-basis: 100px; /* Give it a fixed width */
}
.vs-text {
  font-size: 5rem;
  color: var(--text-primary);
  text-shadow: 4px 4px 0px var(--accent-secondary);
  animation: vs-pulse 2s infinite ease-in-out;
  writing-mode: vertical-rl;
  text-orientation: mixed;
}


/* --- Lobby Overlay (re-styled for consistency) --- */
.lobby-overlay {
  position: fixed; inset: 0;
  background: rgba(13, 9, 21, 0.8);
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  z-index: 2000;
  display: flex; justify-content: center; align-items: center; padding: var(--spacing-lg);
}
.lobby-content {
  text-align: center; width: 100%; max-width: 500px;
}
.lobby-content .spinner { margin: var(--spacing-xl) auto; }
.link-container {
  display: flex; gap: var(--spacing-sm); margin: var(--spacing-md) 0 var(--spacing-lg);
}
.link-container input {
  flex-grow: 1; text-align: center; background: #11091a;
  border: 2px solid var(--panel-border); color: var(--text-primary);
  font-family: 'Press Start 2P', monospace; padding: 12px;
}
.waiting-text { animation: pulse 2s infinite ease-in-out; }
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; }}


/* --- Responsive: Stack the panels on mobile --- */
@media (max-width: 992px) {
  .select-screen-wrapper {
    flex-direction: column;
    gap: var(--spacing-xl);
  }
  .vs-divider {
    order: 2; /* Move VS between the two panels */
    flex-basis: auto;
    height: 80px; /* Give it height instead of width */
  }
  .vs-text {
    writing-mode: horizontal-tb; /* Make VS text horizontal again */
    font-size: 4rem;
  }
  .player-x { order: 1; }
  .player-o { order: 3; }
}